{% extends 'base.html' %}
{% block content %}
<div class="container mx-auto py-8">
    <h1 class="text-3xl font-bold text-center mb-8">Menu</h1>
    <div class="w-full">
        <!-- Category Bar -->
        <div class="w-full mb-8">
            {% for category in categories %}
            <button
                class="category-toggle bg-gray-200 text-gray-800 font-semibold py-2 px-4 w-full text-left rounded-lg mb-2">{{ category.name }}</button>
            <div class="hidden" id="menu-items-{{ category.id }}">
                <ul class="align-middle">
                    {% for cat, items in menu_items %}
                        {% if cat == category %}
                            {% for item in items %}
                                <li>{{ item.name }}
                                    <a href="{{ item.get_add_to_cart_url }}" class="max-price-btn bg-gray-200 text-gray-800 font-semibold py-2 px-4 ml-4 rounded-lg mb-2">Add to Cart - {{ item.max_price }}</a>
                                </li>
                            {% endfor %}
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<script>
    document.querySelectorAll('.category-toggle').forEach(button => {
        button.addEventListener('click', () => {
            button.nextElementSibling.classList.toggle('hidden');
        });
    });
</script>
{% endblock %}
